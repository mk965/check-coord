# check-coord ğŸŒ [![](https://img.shields.io/npm/v/check-coord.svg?style=flat)](https://www.npmjs.com/package/check-coord)

å¼ºå¤§çš„åæ ‡æ ¼å¼æ£€æŸ¥ã€éªŒè¯å’Œè½¬æ¢å·¥å…·ï¼Œæ”¯æŒç‚¹ã€çº¿ã€åŒºåŸŸåæ ‡çš„éªŒè¯å’Œå‡ ä½•è®¡ç®—ã€‚

[![](https://img.shields.io/github/stars/mk965/check-coord?style=social)](https://github.com/mk965/check-coord)

**è¯­è¨€:** [English](README.md) | ä¸­æ–‡

### ğŸ“¥ å®‰è£…

```shell
npm install check-coord
```

### ğŸ® ä½¿ç”¨æ–¹æ³•

#### åŸºç¡€ç”¨æ³•

```js
const checkCoord = require('check-coord');

// éªŒè¯å•ä¸ªåæ ‡ç‚¹
const result = checkCoord("116.3978146455078,39.9076393154042");
console.log(result);
```

#### é«˜çº§ç”¨æ³•

```js
const { CoordinateValidator } = require('check-coord');
const ExtendedAPI = require('check-coord/src/extended-api');

// ç›´æ¥ä½¿ç”¨éªŒè¯å™¨ç±»
const validator = new CoordinateValidator();
const result = validator.validate("116.3978146455078,39.9076393154042");

// ä½¿ç”¨æ‰©å±•APIè·å¾—é«˜çº§åŠŸèƒ½
const api = new ExtendedAPI();
const analysis = api.analyzeCoordinates("116.3978146455078,39.9076393154042;116.39652718518064,39.93344333054544");
```

### ğŸ“ ç¤ºä¾‹

```js
const checkCoord = require('check-coord');

// å•ä¸ªåæ ‡ç‚¹
checkCoord("116.3978146455078,39.9076393154042");

// åæ ‡çº¿æ®µï¼ˆ2ä¸ªç‚¹ï¼‰
checkCoord("116.3978146455078,39.9076393154042;116.39652718518064,39.93344333054544");

// åæ ‡åŒºåŸŸï¼ˆ3ä¸ªä»¥ä¸Šçš„ç‚¹ï¼‰
checkCoord("116.3978146455078,39.9076393154042;116.39652718518064,39.93344333054544;116.41712655041502,39.93370658670286");
```

### ğŸ“ è¿”å›å€¼

#### åŸºç¡€éªŒè¯ç»“æœ

```js
// å•ç‚¹
{
    isTrue: true,           // éªŒè¯ç»“æœ
    type: 'spot',          // åæ ‡ç±»å‹ï¼š'spot'ã€'line' æˆ– 'region'
    spots: [               // åæ ‡å¯¹è±¡æ•°ç»„
        {
            longitude: 116.3978146455078,  // ç»åº¦ï¼ˆæ•°å­—ï¼‰
            latitude: 39.9076393154042,    // çº¬åº¦ï¼ˆæ•°å­—ï¼‰
            lng: 116.3978146455078,        // ç»åº¦ï¼ˆå‘åå…¼å®¹ï¼‰
            lat: 39.9076393154042          // çº¬åº¦ï¼ˆå‘åå…¼å®¹ï¼‰
        }
    ]
}

// çº¿æ®µï¼ˆ2ä¸ªç‚¹ï¼‰
{
    isTrue: true,
    type: 'line',
    spots: [/* 2ä¸ªåæ ‡å¯¹è±¡ */]
}

// åŒºåŸŸï¼ˆ3ä¸ªä»¥ä¸Šçš„ç‚¹ï¼‰
{
    isTrue: true,
    type: 'region',
    spots: [/* 3ä¸ªä»¥ä¸Šçš„åæ ‡å¯¹è±¡ */],
    regionSpot: 3          // åŒºåŸŸä¸­çš„ç‚¹æ•°
}

// éªŒè¯é”™è¯¯
{
    isTrue: false,
    message: "Error in coordinate point 1: Invalid longitude format: 200, should be between -180 and 180",
    errorIndex: 0,
    errorCoordinate: "200,39.9076393154042"
}
```

### ğŸš€ æ‰©å±•åŠŸèƒ½

æ‰©å±•APIæä¾›é¢å¤–åŠŸèƒ½ï¼š

- **æ ¼å¼è½¬æ¢**ï¼šåœ¨åè¿›åˆ¶åº¦æ•°å’Œåº¦åˆ†ç§’(DMS)ä¹‹é—´è½¬æ¢
- **è·ç¦»è®¡ç®—**ï¼šä½¿ç”¨Haversineå…¬å¼è®¡ç®—ä¸¤ç‚¹é—´è·ç¦»
- **é¢ç§¯è®¡ç®—**ï¼šä½¿ç”¨Shoelaceå…¬å¼è®¡ç®—å¤šè¾¹å½¢é¢ç§¯
- **æ‰¹é‡éªŒè¯**ï¼šä¸€æ¬¡éªŒè¯å¤šä¸ªåæ ‡å­—ç¬¦ä¸²
- **ç‚¹åœ¨å¤šè¾¹å½¢å†…æ£€æµ‹**ï¼šæ£€æŸ¥ç‚¹æ˜¯å¦åœ¨å¤šè¾¹å½¢åŒºåŸŸå†…

### ğŸ§ª æµ‹è¯•

```shell
npm test           # è¿è¡ŒåŸºç¡€æµ‹è¯•
npm run test:extended  # è¿è¡Œæ‰©å±•åŠŸèƒ½æµ‹è¯•
npm run test:all   # è¿è¡Œæ‰€æœ‰æµ‹è¯•
```

### ğŸ”„ å‘åå…¼å®¹æ€§

v0.2.0 ç‰ˆæœ¬**å®Œå…¨å…¼å®¹** v0.1.2 çš„æ‰€æœ‰ç”¨æ³•ï¼Œæ‚¨æ— éœ€ä¿®æ”¹ä»»ä½•ç°æœ‰ä»£ç å³å¯å‡çº§ã€‚

```js
// æ‰€æœ‰æ—§ç‰ˆæœ¬çš„ç”¨æ³•éƒ½èƒ½æ­£å¸¸å·¥ä½œ
const checkCoord = require('check-coord');

// v0.1.2 çš„ç”¨æ³•ä¾ç„¶æœ‰æ•ˆ
const result = checkCoord("116.3978146455078,39.9076393154042");
console.log(result.isTrue);  // true
console.log(result.type);    // 'spot'
console.log(result.spots[0].lng); // 116.3978146455078
console.log(result.spots[0].lat); // 39.9076393154042
```

### ğŸ†• æ–°åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | v0.1.2 | v0.2.0 |
|------|--------|--------|
| åæ ‡éªŒè¯ | âœ… | âœ… æ”¹è¿› |
| é”™è¯¯å¤„ç† | åŸºç¡€ | ğŸš€ è¯¦ç»† |
| ä»£ç ç»“æ„ | å•æ–‡ä»¶ | ğŸ—ï¸ æ¨¡å—åŒ– |
| æµ‹è¯•è¦†ç›– | âŒ | âœ… å®Œæ•´ |
| è·ç¦»è®¡ç®— | âŒ | âœ… æ–°å¢ |
| é¢ç§¯è®¡ç®— | âŒ | âœ… æ–°å¢ |
| æ ¼å¼è½¬æ¢ | âŒ | âœ… æ–°å¢ |
| æ‰¹é‡éªŒè¯ | âŒ | âœ… æ–°å¢ |
| ç‚¹åœ¨å¤šè¾¹å½¢å†… | âŒ | âœ… æ–°å¢ |
| åŒè¯­æ–‡æ¡£ | âŒ | âœ… æ–°å¢ |

### ğŸ“ æ›´æ–°æ—¥å¿—

#### v0.2.0
- ğŸ¯ é‡æ„ä»£ç æ¶æ„ï¼Œæé«˜å¯ç»´æŠ¤æ€§
- ğŸš€ æ·»åŠ æ‰©å±•åŠŸèƒ½ï¼šè·ç¦»è®¡ç®—ã€é¢ç§¯è®¡ç®—ã€æ ¼å¼è½¬æ¢
- âœ… æ·»åŠ å®Œæ•´çš„æµ‹è¯•ç”¨ä¾‹
- ğŸ› ä¿®å¤ç»åº¦/çº¬åº¦å­—æ®µé‡å¤çš„bug
- ğŸ“š æä¾›åŒè¯­æ–‡æ¡£æ”¯æŒ
- ğŸ”„ ä¿æŒ100%å‘åå…¼å®¹æ€§

### ğŸ“– æ›´å¤šç¤ºä¾‹

æŸ¥çœ‹ [examples/showcase.js](examples/showcase.js) äº†è§£æ‰€æœ‰åŠŸèƒ½çš„å®Œæ•´æ¼”ç¤ºã€‚

### ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issues å’Œ Pull Requestsï¼

### ğŸ“„ è®¸å¯è¯

ISC License